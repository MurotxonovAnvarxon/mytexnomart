import 'package:hive_flutter/adapters.dart';import 'package:mytexnomart/data/source/model/data/special_product_item_data.dart';class HiveHelper {  static Future<void> init() async {    await Hive.initFlutter();    Hive.registerAdapter(SpecialItemDataAdapter());    await Hive.openBox('basket');    await Hive.openBox('favourite');  }  static Future<void> addProductToBasket(SpecialItemData products) async {    var box = Hive.box('basket');    bool isBasket = true;    if (box.values.contains(products.name)) {      isBasket = false;    }    if (isBasket) {      box.add(products);    }  }  static Future<void> deleteProducts(SpecialItemData productData) async {    var box = Hive.box('basket');    int indexToDelete = -1;    for (int i = 0; i < box.length; i++) {      SpecialItemData productInBasket = box.getAt(i);      if (productInBasket.name == productData.name) {        indexToDelete = i;        break;      }    }    if (indexToDelete != -1) {      await box.deleteAt(indexToDelete);    }  }  static List<String> getAllFavourites() {    final box = Hive.box('favourite');    return box.values.cast<String>().toList();  }  static Future<bool> addProductToFavourite(SpecialItemData productHolder) async {    try {      var box = Hive.box('favourite');      bool isFavourite = box.values.contains(productHolder.name);      if (!isFavourite) {        box.add(productHolder.name);      } else {        box.delete(productHolder.name);      }      return true;    } catch (e) {      return false;    }  }  // static String getBasketTotalSum() {  //   final box = Hive.box('basket');  //   double totalSum = 0;  //   for (var product in box.values.cast<SpecialItemData>()) {  //     totalSum += (double.tryParse(product.value) ?? 0) *  //         (double.tryParse(product.price) ?? 0);  //   }  //   return totalSum.toString();  // }  // static Future<void> addProductToFavourite(SpecialItemData productHolder) async {  //   var box = Hive.box('favourite');  //   bool isFavourite = true;  //   if (box.values.contains(productHolder.name)) {  //     isFavourite = false;  //   }  //   if (isFavourite) {  //     box.add(productHolder);  //   }  // }  static List<SpecialItemData> getAllProducts() {    final box = Hive.box('basket');    return box.values.cast<SpecialItemData>().toList();  }  static Future<void> deleteBasket() {    final box = Hive.box('basket');    return box.clear();  }}